{% comment %}
  Firework Feed Section
  Firework 视频 Feed 分区模块
{% endcomment %}
{% style %}
  #section-id-{{ section.id }} {
    padding-top: {{ section.settings.padding_top_desktop }}px;
    padding-bottom: {{ section.settings.padding_bottom_desktop }}px;
  }

  @media (max-width: 768px) {
    #section-id-{{ section.id }} {
      padding-top: {{ section.settings.padding_top_mobile }}px;
      padding-bottom: {{ section.settings.padding_bottom_mobile }}px;
    }
  }
{% endstyle %}
{%- liquid
  assign channel = section.settings.channel | default: 'lavivid_hair'
  assign mode = section.settings.mode | default: 'row'
  assign open_in = section.settings.open_in | default: 'default'
  assign max_videos = section.settings.max_videos | default: 0
  assign placement = section.settings.placement | default: 'middle'
  assign player_placement = section.settings.player_placement | default: 'bottom-left'
  assign playlist = section.settings.playlist | default: '5bJBa2'
-%}

<div class="firework-feed-container {{ section.settings.class-name }}" id="section-id-{{ section.id }}" {{ section.shopify_attributes }}>
  <div class="container">
  {% if section.settings.heading_text_1 != blank or section.settings.heading_text_2 != blank %}
    <h2 class="custom-heading">
      <span class="custom-heading__primary" style="color: {{ section.settings.heading_color_1 }}">
        {{ section.settings.heading_text_1 }}
      </span>
      <span class="custom-heading__secondary" style="color: {{ section.settings.heading_color_2 }}">
        {{ section.settings.heading_text_2 }}
      </span>
    </h2>
  {% endif %}
  {% if playlist != blank %}
    <fw-embed-feed
      channel="{{ channel }}"
      mode="{{ mode }}"
      open_in="{{ open_in }}"
      max_videos="{{ max_videos }}"
      placement="{{ placement }}"
      player_placement="{{ player_placement }}"
      playlist="{{ playlist }}"
    ></fw-embed-feed>
  {% else %}
    <div class="firework-feed-placeholder">
      <p>Please configure a Firework playlist ID in the section settings.</p>
    </div>
  {% endif %}
  </div>
</div>

<script src="https://asset.fwcdn3.com/js/embed-feed.js" defer async></script>

<style>
  .firework-feed-container {
    width: 100%;
    {% comment %} margin: 2rem 0; {% endcomment %}
  }
  
  .firework-feed-placeholder {
    padding: 2rem;
    text-align: center;
    color: #666;
    background: #f5f5f5;
    border-radius: 0.5rem;
  }
  
  @media screen and (max-width: 767px) {
    .firework-feed-container {
      margin: 1rem 0;
    }
  }
</style>

{% schema %}
{
  "name": "Firework Feed",
  "tag": "section",
  "class": "firework-feed-section",
  "settings": [
    {
      "type": "text",
      "id": "class-name",
      "label": "Class name"
    },
    {
      "type": "header",
      "content": "Custom Heading Settings"
    },
    {
      "type": "text",
      "id": "heading_text_1",
      "label": "Heading First Part",
      "default": "Crafted For"
    },
    {
      "type": "text",
      "id": "heading_text_2",
      "label": "Heading Second Part",
      "default": "Your Lifestyle"
    },
    {
      "type": "color",
      "id": "heading_color_1",
      "label": "Color for First Part",
      "default": "#5B5BE5"
    },
    {
      "type": "color",
      "id": "heading_color_2",
      "label": "Color for Second Part",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Section spacing"
    },
    {
      "type": "range",
      "id": "padding_top_desktop",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "Padding top",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom_desktop",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "Padding bottom",
      "default": 40
    },
    {
      "type": "header",
      "content": "Mobile section spacing"
    },
    {
      "type": "range",
      "id": "padding_top_mobile",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "Padding top",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom_mobile",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "Padding bottom",
      "default": 40
    },
    {
      "type": "header",
      "content": "Playlist Settings"
    },
    {
      "type": "text",
      "id": "playlist",
      "label": "Firework Playlist ID",
      "default": "5bJBa2",
      "info": "Enter Firework playlist ID (e.g., 5bJBa2)"
    },
    {
      "type": "header",
      "content": "Display Settings"
    },
    {
      "type": "text",
      "id": "channel",
      "label": "Channel Name",
      "default": "lavivid_hair",
      "info": "Firework channel name"
    },
    {
      "type": "select",
      "id": "mode",
      "label": "Display Mode",
      "options": [
        {
          "value": "row",
          "label": "Row"
        },
        {
          "value": "grid",
          "label": "Grid"
        },
        {
          "value": "feed",
          "label": "Feed"
        }
      ],
      "default": "row"
    },
    {
      "type": "select",
      "id": "open_in",
      "label": "Open In",
      "options": [
        {
          "value": "default",
          "label": "Default"
        },
        {
          "value": "modal",
          "label": "Modal"
        },
        {
          "value": "new_tab",
          "label": "New Tab"
        }
      ],
      "default": "default"
    },
    {
      "type": "number",
      "id": "max_videos",
      "label": "Max Videos",
      "default": 0,
      "info": "Maximum number of videos to display (0 = unlimited)"
    },
    {
      "type": "select",
      "id": "placement",
      "label": "Placement",
      "options": [
        {
          "value": "top",
          "label": "Top"
        },
        {
          "value": "middle",
          "label": "Middle"
        },
        {
          "value": "bottom",
          "label": "Bottom"
        }
      ],
      "default": "middle"
    },
    {
      "type": "select",
      "id": "player_placement",
      "label": "Player Placement",
      "options": [
        {
          "value": "top-left",
          "label": "Top Left"
        },
        {
          "value": "top-right",
          "label": "Top Right"
        },
        {
          "value": "bottom-left",
          "label": "Bottom Left"
        },
        {
          "value": "bottom-right",
          "label": "Bottom Right"
        }
      ],
      "default": "bottom-left"
    }
  ],
  "presets": [
    {
      "name": "[gy] Firework Feed"
    }
  ]
}
{% endschema %}

